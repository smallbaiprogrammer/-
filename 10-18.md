#### [476. 数字的补数](https://leetcode-cn.com/problems/number-complement/)

难度简单249收藏分享切换为英文接收动态反馈

对整数的二进制表示取反（`0` 变 `1` ，`1` 变 `0`）后，再转换为十进制表示，可以得到这个整数的补数。

- 例如，整数 `5` 的二进制表示是 `"101"` ，取反后得到 `"010"` ，再转回十进制表示得到补数 `2` 。

给你一个整数 `num` ，输出它的补数。



**示例 1：**

```
输入：num = 5
输出：2
解释：5 的二进制表示为 101（没有前导零位），其补数为 010。所以你需要输出 2 。
```

**示例 2：**

```
输入：num = 1
输出：0
解释：1 的二进制表示为 1（没有前导零位），其补数为 0。所以你需要输出 0 。
```

 

**提示：**

- `1 <= num < 231`





题解 

具体思路，该题是求一个数字的补数，与求补码类似，因为基于位数的不同是不同的，以`int`类型为例，求补码就是，基于 32 位存储，只看正数，就是将 1 变为 0 ，0变为 1 ，32 位 全都发送变化，这里的求补数是根据的当前数字的位数来进行求解的，比如  10  就是 4位 ，5就是3位，所以我们只要求出当前数字的位数，然后根据求补码的知识，就可以求出答案，这就是最优解

求位数的方法有很多种，这里采用位运算

得到对应的位数`height`

算出同位数下最大值，也就是全 1 值 `mask = (1 << (hight + 1)) - 1`

然后根据 `mask` 和 当前数进行  异或运算，就可以得到 当前位数的补数



`go`语言解法 

```go
func findComplement(num int) int {
   hight := 0
   for i := 1; i <= 30; i++ {
      if (1 << i) > num {
         break
      }
      hight = i
   }
   var mask int
   if hight == 30 {
      mask = 0x7fffffff
   }else {
      mask = (1 << (hight + 1)) - 1
   }
   return mask^num
}
```

