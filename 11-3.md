- #### [42. 接雨水](https://leetcode-cn.com/problems/trapping-rain-water/)

  难度困难2827收藏分享切换为英文接收动态反馈

  给定 `n` 个非负整数表示每个宽度为 `1` 的柱子的高度图，计算按此排列的柱子，下雨之后能接多少雨水。

   

  **示例 1：**

  ![img](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2018/10/22/rainwatertrap.png)

  ```
  输入：height = [0,1,0,2,1,0,1,3,2,1,2,1]
  输出：6
  解释：上面是由数组 [0,1,0,2,1,0,1,3,2,1,2,1] 表示的高度图，在这种情况下，可以接 6 个单位的雨水（蓝色部分表示雨水）。 
  ```

  **示例 2：**

  ```
  输入：height = [4,2,0,3,2,5]
  输出：9
  ```

   

  **提示：**

  - `n == height.length`
  - `1 <= n <= 2 * 104`
  - `0 <= height[i] <= 105`

 今天这个题目，我们之前遇到过是一维数组的情况，现在情况改变，数组从一维数组变成二维数组

当数组是一位数组时，我们直接求出左边和右边稍大的值，然后求上方的矩形和，不处理相等的情况就不会出现计算重复的矩形

这里代码我们复现一下，

```go
func trap(heights []int)(ans int) {
    length := len(heights)
    stk := []int{}
    for i:= 0 ; i < length ; i++ {
        cur := heights[i]
        for len(stk) > 0 && heights[stk[len(stk)-1]] < cur {
            top := stk[len(stk)-1]
            stk = stk[:len(stk)-1]
            if len[stk] == 0 {
                break;
            }
            left := stk[len(stk)-1]
            curWidth := i - left - 1
            curHeight := min(heights[left],cur) - heights[top]
            ans += curWidth * ciurHeight
        }
        stk = append(stk,i)
    }
    return
}
func min(x,y int) int {
    if x > y {
        return y
    }else {
        return x
    }
}
```

我们看一下答案的题解，今天有点忙，没时间做了，回顾一下之前的那个用单调栈的方法

